---
title: tox読み込みとレイヤーミックス
description: toxファイルの読み込みから4レイヤーミキシングまでの基本操作
sidebar:
  order: 1
---

このチュートリアルでは、tox ファイルを TOXBOX に読み込み、4 レイヤーを使ってビジュアルをミックスする方法を学びます。

## 前提条件

- TOXBOX がセットアップ済みであること（[はじめに](../../getting-started/) 参照）
- 読み込む tox ファイルがあること（同梱サンプルまたは自作）

## tox ファイルの読み込み

### ドラッグ＆ドロップで読み込む

1. パフォーマンスモードで TOXBOX を開く
2. エクスプローラー（Windows）または Finder（macOS）で tox ファイルを選択
3. Scene Panel の任意のシーンスロットにドラッグ＆ドロップ

<!-- TODO: スクリーンショット - ドラッグ＆ドロップ -->

読み込みが成功すると、シーンスロットにサムネイルが表示されます。

### 複数の tox を一度に読み込む

複数の tox ファイルを選択してドラッグ＆ドロップすると、連続したスロットに順番に読み込まれます。

:::tip
同じレイヤーの異なるスロットに読み込むと、素早く切り替えられます。
:::

## シーンの選択と切り替え

### シーンを選択する

読み込んだシーンのスロットをクリックすると、そのシーンが選択（アクティブ化）されます。

- 選択されたシーンは枠線でハイライト表示
- そのレイヤーの出力が選択したシーンに切り替わる

### シーンの切り替え

同じレイヤー内の別のスロットをクリックすると、即座にシーンが切り替わります。

:::note
切り替え時のトランジション（フェード等）は現在サポートされていません。瞬時に切り替わります。
:::

## 4 レイヤー構成の理解

TOXBOX は 4 つのレイヤーを持ち、それぞれ独立してシーンを選択できます。

### レイヤーの重なり

```
[出力画面]
    ↑
┌──────────────┐
│ レイヤー 1   │ ← 最前面（マスク可能）
├──────────────┤
│ レイヤー 2   │
├──────────────┤
│ レイヤー 3   │
├──────────────┤
│ レイヤー 4   │ ← 最背面
└──────────────┘
```

上のレイヤーが手前に表示され、フェーダーで透明度を調整することで下のレイヤーが透けて見えます。

## フェーダーでの透明度調整

各レイヤーにはフェーダーがあり、そのレイヤーの透明度（不透明度）を調整します。

### フェーダーの値

| 位置 | 値 | 効果 |
|------|-----|------|
| 最下部 | 0% | 完全に透明（表示なし） |
| 中間 | 50% | 半透明 |
| 最上部 | 100% | 完全に不透明 |

### ミキシングの例

**2 レイヤーのブレンド**:
1. レイヤー 1 にシーン A を読み込み
2. レイヤー 2 にシーン B を読み込み
3. レイヤー 1 のフェーダーを 50% に設定
4. レイヤー 2 のフェーダーを 100% に設定
5. → シーン A と B が半透明でブレンドされる

## マスク機能

レイヤー 1（最上段）はマスクとして使用できます。

### マスクの仕組み

白黒のビジュアルをマスクとして読み込むと：

- **白い部分**: 透過（下のレイヤーが見える）
- **黒い部分**: 遮蔽（下のレイヤーが見えない）

### マスクの使い方

1. 白黒のパターン（図形、テキスト等）の tox を用意
2. レイヤー 1 に読み込む
3. マスクモードを有効化
4. レイヤー 2 以下のビジュアルがマスクされた状態で表示

<!-- TODO: スクリーンショット - マスク適用例 -->

## パフォーマンスのヒント

### シーン数と負荷

読み込んだシーン数が多くても、**表示していないシーンは cook が停止**するため、基本的に負荷は増えません。ただし：

- 同時に表示するレイヤー数が増えると負荷も増加
- 各シーン自体の重さにも依存

### 推奨ワークフロー

1. 使う可能性のあるシーンを事前にすべて読み込んでおく
2. パフォーマンス中は選択の切り替えのみで運用
3. 重いシーンは使わないレイヤーに退避させておく

## 次のステップ

- **[オーディオ解析](../audio-analysis/)**: 音楽に反応させる
- **[シーケンサー](../sequencer/)**: BPM 同期の自動変化を加える
- **[MIDIマッピング](../midi-mapping/)**: コントローラーで操作する
