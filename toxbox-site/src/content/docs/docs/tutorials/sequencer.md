---
title: シーケンサーの使い方
description: BPMに同期した自動変化を作成するシーケンサー機能
sidebar:
  order: 3
---

このチュートリアルでは、TOXBOX のシーケンサー機能を使って、BPM に同期した自動変化を作成する方法を学びます。

## シーケンサーとは

シーケンサーは、設定した BPM に同期して値を出力する機能です。ステップごとにオン/オフや値を設定することで、リズミカルな変化を自動生成できます。

## BPM の設定

### 手動入力

Sequencer Panel の BPM 欄に数値を直接入力します。

### Tap Tempo

1. **Tap** ボタンを連続してクリック（またはタップ）
2. タップの間隔から自動的に BPM を計算

:::tip
曲の拍に合わせて 4〜8 回タップすると、より正確な BPM が計算されます。
:::

## シーケンサーモード

シーケンサーには 3 つの出力モードがあります。

### Boolean モード

**0 または 1** のオン/オフ信号を出力します。

```
ステップ:  1  2  3  4  5  6  7  8
出力値:    1  0  1  0  1  1  1  0
```

**用途**:
- ビジュアルの表示/非表示
- エフェクトのオン/オフ
- 瞬間的な切り替え

### Attack モード

トリガー時に **急上昇し、徐々に減衰** する信号を出力します。

```
出力値
  1│    ╱╲      ╱╲          ╱╲
   │   ╱  ╲    ╱  ╲        ╱  ╲
   │  ╱    ╲  ╱    ╲      ╱    ╲
  0│─╱──────╲╱──────╲────╱──────╲──
   └──────────────────────────────→ 時間
     Step 1   Step 3      Step 5
```

**用途**:
- スケールのパルス的な変化
- フラッシュ効果
- アタック感のある動き

### Filter モード

各ステップの値を **スムーズに補間** した連続値を出力します。

```
出力値
  1│        ____
   │       ╱    ╲
   │      ╱      ╲
   │  ___╱        ╲___
  0│──              ──────────
   └──────────────────────────────→ 時間
```

**用途**:
- なめらかな色変化
- 緩やかな動き
- 雰囲気の変化

## ステップの編集

### ステップのオン/オフ

1. シーケンサーのステップをクリック
2. オン（アクティブ）/オフ（非アクティブ）が切り替わる

### ステップ数の変更

シーケンサーのステップ数を変更できます（4、8、16 ステップなど）。

## パラメータへの接続

シーケンサーの出力を tox のパラメータに接続するには、**ChopReference** を使用します。

### 接続手順

1. Parameter Panel で接続したいパラメータを見つける
2. パラメータの横にある **ChopRef** ボタンをクリック
3. リストから接続したい信号を選択
   - `Sequencer/Boolean`
   - `Sequencer/Attack`
   - `Sequencer/Filter`

## 実践例

### 例 1: 4 つ打ちでスケールを変化

Attack モードを使って、4 つ打ちのリズムでスケールをパルス的に変化させます。

1. BPM を曲に合わせて設定
2. ステップ 1, 5, 9, 13 をオンにする（4 つ打ち）
3. tox のスケールパラメータに `Sequencer/Attack` を接続
4. → BPM に同期してスケールがパルス変化

### 例 2: 8 ビートでカラーを切り替え

Boolean モードを使って、8 ビートのリズムで 2 色を切り替えます。

1. ステップ 1, 3, 5, 7 をオン、2, 4, 6, 8 をオフに設定
2. tox の色切り替えパラメータに `Sequencer/Boolean` を接続
3. → 拍の表裏で色が切り替わる

### 例 3: スムーズな明暗変化

Filter モードを使って、ゆるやかな明暗変化を作ります。

1. ステップ 1〜4 をオン、5〜8 をオフに設定
2. tox の明るさパラメータに `Sequencer/Filter` を接続
3. → 4 拍かけて明るくなり、4 拍かけて暗くなる

## オーディオ解析との組み合わせ

シーケンサーとオーディオ解析を組み合わせることで、より複雑な演出が可能です。

- **シーケンサー**: 構造的・予測可能なリズム
- **オーディオ解析**: 実際の音楽に反応する動的な変化

同じパラメータに両方を接続することはできませんが、異なるパラメータにそれぞれを接続することで、多層的な演出ができます。

## トラブルシューティング

### シーケンサーが動かない

- BPM が設定されているか確認
- シーケンサーが再生状態になっているか確認（再生/停止ボタン）

### タイミングがずれる

- Tap Tempo で BPM を再設定
- 曲のテンポが変化している可能性も考慮

## 次のステップ

- **[オーディオ解析](../audio-analysis/)**: 実際の音楽への反応と組み合わせる
- **[MIDIマッピング](../midi-mapping/)**: シーケンサーの操作を MIDI コントローラーに割り当てる
